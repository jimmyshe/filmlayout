# 35mm 胶片排版工具

这是一个基于 PySide6 和 Pillow 开发的桌面应用程序，旨在帮助用户将普通照片转换为 35mm 胶片风格，并自动排版到标准纸张（A4/A5/A6）上，生成高质量的打印稿。

## 核心功能

*   **35mm 胶片仿真**：严格遵循 35mm 胶片规格（外框 36x35mm，影像区 36x24mm），并自动生成连贯的过片孔，模拟真实的胶卷冲印效果。
*   **个性化照片处理**：
    *   **裁切模式**：提供“短边对齐 (填充影像区)”和“长边对齐 (完整显示图片)”两种选择。
    *   **色彩变换**：一键切换彩色或黑白模式。
    *   **胶片类型**：支持正片效果和负片 (反相) 效果。
    *   **手动旋转**：支持 0°、90°、180°、270° 四个方向的旋转。
    *   **批量操作**：支持将单张照片的设置快速应用到所有添加的照片。
*   **智能排版引擎**：
    *   **多尺寸支持**：适配 A4、A5、A6 纸张。
    *   **灵活方向**：支持纵向、横向或“自动”排版（自动选择容纳照片最多的方向）。
    *   **精准间距**：用户可实时调节页边距和胶片间的缝隙。
*   **交互式 GUI 体验**：
    *   **实时预览**：支持多页预览，清晰显示每张纸的排版效果。
    *   **点击选中**：在预览图上直接点击任意胶片，即可快速定位并修改该照片的设置。
    *   **拖拽排序**：通过在列表中拖动项目，即可调整照片在排版中的先后顺序。
    *   **状态同步**：列表会自动加粗显示当前预览页中的照片，并将不在当前页的照片设为灰色。
*   **专业级导出**：
    *   支持导出为 PDF 格式。
    *   提供从 300 DPI 到 3600 DPI 的超高分辨率选项，满足从普通打印到专业冲印的需求。

## 安装与运行

本项目使用 [uv](https://github.com/astral-sh/uv) 现代 Python 包管理器。

1.  **环境准备**：确保您的系统中已安装 `uv`。
2.  **启动程序**：在项目根目录下，运行以下命令即可自动安装依赖并启动应用：
    ```powershell
    uv run python main.py
    ```

## 依赖项

*   PySide6 (Qt for Python)
*   Pillow (图像处理)

## 项目结构

*   `main.py`: GUI 界面交互逻辑与视图控制。
*   `processor.py`: 核心图像处理、胶片帧生成与排版算法逻辑。
*   `pyproject.toml`: 项目元数据及依赖管理。
*   `test_processor.py`: 用于验证核心算法的自动化测试脚本。

## 使用技巧

*   **节约纸张**：将纸张方向设为“自动”，程序会通过计算选择最密集的排版方案。
*   **打印质量**：对于家用喷墨打印机，600 DPI 导出通常已足够；如需相馆级精度，建议选择 1200 DPI 或以上。
*   **性能说明**：在 2400 或 3600 DPI 下导出时，由于涉及数亿像素的运算，PDF 生成可能需要 5-10 秒，请在点击导出后稍作等待。
